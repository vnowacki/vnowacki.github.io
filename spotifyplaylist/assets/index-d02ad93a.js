(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();const f=(e,t)=>{e.innerHTML="",e.addEventListener("scroll",()=>{c(t)}),h("/json/playlist.json").then(r=>{r.forEach((i,o)=>{let l=n("div",["playlist-component__item","rounding__17"]),s=n("div",["playlist-component__song"]);s.appendChild(n("div",["typography__body-1","color__light","playlist-component__song--number"],v(o+1))),s.appendChild(n("div",["playlist-component__song--play"])),s.appendChild(n("img",["rounding__8","playlist-component__song--image"],null,`/images/songs/${i.id}.jpg`));let a=n("div",["playlist-component__song--detail","playlist-component__song--title"]);a.appendChild(n("div",["typography__body-5","color__light"],i.album)),a.appendChild(n("div",["typography__body-2","color__white"],i.title)),s.appendChild(a),l.appendChild(s);let d=n("div",["playlist-component__song--detail","playlist-component__song--artists"]);d.appendChild(n("div",["typography__body-5","color__light"],"Artists")),d.appendChild(n("div",["typography__body-2","color__white"],i.artists)),l.appendChild(d);let p=n("div",["playlist-component__song--detail","playlist-component__song--time"]);p.appendChild(n("div",["typography__body-5","color__light"],"Time")),p.appendChild(n("div",["typography__body-2","color__white"],i.time)),l.appendChild(p);let m=n("div",["playlist-component__song--controls"]);m.appendChild(n("div",["playlist-component__song--fav"]));let y=n("div",["playlist-component__song--more"]);y.addEventListener("click",_=>g(_,t)),y.addEventListener("touchend",_=>g(_,t)),m.appendChild(y),l.appendChild(m),e.appendChild(l)})})},g=(e,t)=>{e.preventDefault(),e.stopPropagation(),c(t);let r=e.target.parentElement.classList.contains("playlist-component__item")?e.target.parentElement:e.target.parentElement.parentElement;r.classList.add("playlist-component__item--active"),r.classList.add("no-hover"),t.style.left=u(e.target).left-200+"px",t.style.top=u(e.target).top+54+"px",t.style.display="flex",t.getBoundingClientRect().bottom>window.innerHeight-24&&(t.style.top=u(e.target).top-t.offsetHeight-16+"px")},c=e=>{e.style.display="none",[...document.querySelectorAll(".playlist-component__item")].forEach(t=>{t.classList.remove("playlist-component__item--active"),t.classList.remove("no-hover")})},u=e=>{var t=e.getBoundingClientRect(),r=document.body,i=document.documentElement,o=window.pageYOffset||i.scrollTop||r.scrollTop,l=window.pageXOffset||i.scrollLeft||r.scrollLeft,s=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,d=t.top+o-s,p=t.left+l-a;return{top:Math.round(d),left:Math.round(p)}},h=async e=>(await fetch(e)).json(),n=(e,t,r,i)=>{let o=document.createElement(e);return[...t].forEach(l=>o.classList.add(l)),e=="img"&&i&&(o.src=i),o.innerHTML=r||"",o},v=e=>e<10?`0${e}`:e;f(document.querySelector(".playlist-component__list"),document.querySelector("#playlist-context-menu"));document.addEventListener("click",e=>{e.preventDefault(),c(document.querySelector("#playlist-context-menu"))});document.addEventListener("ontouchend",e=>{e.preventDefault(),c(document.querySelector("#playlist-context-menu"))});document.addEventListener("scroll",e=>{e.preventDefault(),c(document.querySelector("#playlist-context-menu"))});
